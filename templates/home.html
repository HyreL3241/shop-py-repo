{% extends 'base.html' %}

{% block content %}
    {% csrf_token %}
    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content" data-aos="fade-up">
                <h1>Elevate Your Style</h1>
                <p class="lead mb-4">Discover the latest trends in fashion with our premium collection of apparel designed for the modern individual.</p>
                <a href="#featured" class="btn btn-shop">Shop Now <i class="fas fa-arrow-right ms-2"></i></a>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="py-5 my-5" id="categories">
        <div class="container">
            <h2 class="text-center section-title" data-aos="fade-up">Shop By Category</h2>
            <div class="row">
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
                    <div class="category-card">
                        <div class="placeholder-img" style="height: 300px;">
                            <img src="https://placehold.co/600x400/e9ecef/6c757d?text=Men's+Collection" alt="Men's Collection" class="product-img">
                        </div>
                        <div class="category-content">
                            <h3>Men's Collection</h3>
                            <a href="{% url 'featured-products' %}" class="text-white text-decoration-none">
                                Shop Now <i class="fas fa-arrow-right ms-2"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                    <div class="category-card">
                        <div class="placeholder-img" style="height: 300px;">
                            <img src="https://placehold.co/600x400/e9ecef/6c757d?text=Women's+Collection" alt="Women's Collection" class="product-img">
                        </div>
                        <div class="category-content">
                            <h3>Women's Collection</h3>
                            <a href="{% url 'featured-products' %}" class="text-white text-decoration-none">
                                Shop Now <i class="fas fa-arrow-right ms-2"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
                    <div class="category-card">
                        <div class="placeholder-img" style="height: 300px;">
                            <img src="https://placehold.co/600x400/e9ecef/6c757d?text=Accessories" alt="Accessories" class="product-img">
                        </div>
                        <div class="category-content">
                            <h3>Accessories</h3>
                            <a href="{% url 'featured-products' %}" class="text-white text-decoration-none">
                                Shop Now <i class="fas fa-arrow-right ms-2"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="py-5 bg-light" id="featured">
        <div class="container">
            <h2 class="text-center section-title" data-aos="fade-up">Featured Products</h2>
            
            <!-- Ensure CSRF token is available for AJAX requests -->
            {% csrf_token %}
            
            <div id="products-container" class="row">
                {% for product in page_obj %}
                <div class="col-md-3" data-aos="fade-up" data-aos-delay="{{ forloop.counter }}00">
                    <div class="product-card">
                        <div class="product-img-container">
                            <div class="placeholder-img" style="height: 300px;">
                                <img src="{{ product.image_url }}" alt="{{ product.name }}" class="product-img">
                            </div>
                            <div class="product-overlay">
                                <div class="product-actions">
                                    <a href="#" class="action-btn"><i class="fas fa-heart"></i></a>
                                    <form action="{% url 'add_to_cart' product.id %}" method="POST" style="display: inline;">
                                        {% csrf_token %}
                                        <button type="submit" class="action-btn"><i class="fas fa-shopping-cart"></i></button>
                                    </form>
                                    <a href="{% url 'product_detail' product.id %}" class="action-btn"><i class="fas fa-search"></i></a>
                                </div>
                            </div>
                        </div>
                        <div class="product-info">
                            <h5 class="product-title">{{ product.name }}</h5>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="product-price">â‚±{{ product.price }}</span>
                                <div class="text-warning">
                                    {% for _ in "x"|rjust:product.rating_int %}
                                        <i class="fas fa-star"></i>
                                    {% endfor %}
                                    {% for _ in "x"|rjust:"5"|slice:product.rating_int|stringformat:"s" %}
                                        <i class="far fa-star"></i>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <div class="pagination mt-5 justify-content-center">
                <span class="step-links">
                    {% if page_obj.has_next %}
                        <button id="load-more-btn" class="btn btn-shop" data-next-page="{{ page_obj.next_page_number }}">Load More</button>
                    {% endif %}
                </span>
            </div>
        </div>
    </section>

    <!-- Promotion Banner -->
    <section class="py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6" data-aos="fade-right">
                    <div class="placeholder-img" style="height: 400px;">
                        <img src="https://placehold.co/800x600/e9ecef/6c757d?text=Summer+Collection" alt="Summer Collection" class="img-fluid rounded">
                    </div>
                </div>
                <div class="col-lg-6 ps-lg-5 mt-4 mt-lg-0" data-aos="fade-left">
                    <h2 class="mb-4">Summer Collection 2025</h2>
                    <p class="lead mb-4">Discover our latest summer collection designed for comfort and style during the hottest months of the year.</p>
                    <ul class="list-unstyled mb-4">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Breathable fabrics for hot weather</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Vibrant colors and patterns</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Sustainable and eco-friendly materials</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Perfect for beach days and summer outings</li>
                    </ul>
                    <a href="#" class="btn btn-shop">Shop the Collection</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="testimonial-section" id="testimonials">
        <div class="container">
            <h2 class="text-center section-title" data-aos="fade-up">What Our Customers Say</h2>
            <div class="row">
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
                    <div class="testimonial-card text-center">
                        <div class="placeholder-img testimonial-img mx-auto">
                            <img src="https://placehold.co/200x200/e9ecef/6c757d?text=R" alt="Ricardo Dalisay" class="testimonial-img">
                        </div>
                        <div class="testimonial-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="mb-3">"The quality of their clothes is exceptional. I've been a loyal customer for years and have never been disappointed."</p>
                        <h5 class="mb-1">Ricardo Dalisay</h5>
                        <small class="text-muted">Regular Customer</small>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                    <div class="testimonial-card text-center">
                        <div class="placeholder-img testimonial-img mx-auto">
                            <img src="https://placehold.co/200x200/e9ecef/6c757d?text=C" alt="Claire Dedicatoria" class="testimonial-img">
                        </div>
                        <div class="testimonial-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <p class="mb-3">"I love how trendy yet timeless their designs are. The clothes fit perfectly and the customer service is outstanding."</p>
                        <h5 class="mb-1">Claire Dedicatoria</h5>
                        <small class="text-muted">Fashion Blogger</small>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
                    <div class="testimonial-card text-center">
                        <div class="placeholder-img testimonial-img mx-auto">
                            <img src="https://placehold.co/200x200/e9ecef/6c757d?text=K" alt="Michael Brown" class="testimonial-img">
                        </div>
                        <div class="testimonial-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="mb-3">"Their sustainable approach to fashion is what keeps me coming back. Great quality clothes that are also good for the planet."</p>
                        <h5 class="mb-1">Kenneth Simbolas</h5>
                        <small class="text-muted">Eco Enthusiast</small>
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endblock %}